[gd_scene load_steps=17 format=2]

[ext_resource path="res://Scripts/Player.gd" type="Script" id=1]
[ext_resource path="res://Resources/Graphics/Player.png" type="Texture" id=2]
[ext_resource path="res://Resources/Graphics/Background.png" type="Texture" id=3]
[ext_resource path="res://Scripts/EnemySpawnPath.gd" type="Script" id=4]
[ext_resource path="res://Scenes/Enemy.tscn" type="PackedScene" id=5]
[ext_resource path="res://Resources/Graphics/BoostTimer.png" type="Texture" id=6]
[ext_resource path="res://Resources/Graphics/Health.png" type="Texture" id=7]
[ext_resource path="res://Scripts/ScoreLabel.gd" type="Script" id=8]
[ext_resource path="res://Resources/Fonts/Jacmax.ttf" type="DynamicFontData" id=9]
[ext_resource path="res://Scenes/Cyborg.tscn" type="PackedScene" id=10]
[ext_resource path="res://Resources/Sounds/boo.wav" type="AudioStream" id=11]
[ext_resource path="res://Resources/Sounds/wow.wav" type="AudioStream" id=12]
[ext_resource path="res://Scripts/SfxPlayer.gd" type="Script" id=13]

[sub_resource type="CircleShape2D" id=1]
radius = 40.0

[sub_resource type="Curve2D" id=2]
_data = {
"points": PoolVector2Array( 0, 0, 0, 0, 1137.59, 234.963, 0, 0, 0, 0, 661.882, 310.473, 0, 0, 0, 0, 322.088, 461.492, 0, 0, 0, 0, 193.721, 680.471, 0, 0, 0, 0, 261.68, 1012.71, 0, 0, 0, 0, 337.19, 1382.71, 0, 0, 0, 0, 465.556, 1699.85, 0, 0, 0, 0, 767.596, 1828.22, 0, 0, 0, 0, 1190.45, 1820.67, 0, 0, 0, 0, 1681.27, 1835.77, 0, 0, 0, 0, 1998.41, 1858.43, 0, 0, 0, 0, 2398.61, 1850.87, 0, 0, 0, 0, 2836.57, 1828.22, 0, 0, 0, 0, 3297.18, 1677.2, 0, 0, 0, 0, 3440.65, 1541.28, 0, 0, 0, 0, 3599.22, 1277, 0, 0, 0, 0, 3689.83, 1012.71, 0, 0, 0, 0, 3493.5, 748.43, 0, 0, 0, 0, 3206.57, 431.289, 0, 0, 0, 0, 2896.97, 287.82, 0, 0, 0, 0, 2496.77, 242.514, 0, 0, 0, 0, 2111.67, 197.208, 0, 0, 0, 0, 1734.12, 167.004, 0, 0, 0, 0, 1364.12, 189.657, 0, 0, 0, 0, 1137.59, 227.412 )
}

[sub_resource type="DynamicFont" id=3]
size = 80
font_data = ExtResource( 9 )

[node name="Root" type="Node2D"]
scale = Vector2( 1.00172, 0.998806 )

[node name="ArenaCamera" type="Camera2D" parent="."]
anchor_mode = 0
zoom = Vector2( 2, 2 )

[node name="Background" type="Sprite" parent="."]
position = Vector2( 1920, 1080 )
scale = Vector2( 2, 2 )
z_index = -2
texture = ExtResource( 3 )

[node name="Player" type="KinematicBody2D" parent="."]
position = Vector2( 960, 540 )
collision_mask = 6
script = ExtResource( 1 )

[node name="PlayerCamera" type="Camera2D" parent="Player"]
position = Vector2( 9.29779, 1.66644 )
current = true
limit_left = 0
limit_top = 0
limit_right = 3840
limit_bottom = 2160
limit_smoothed = true
drag_margin_h_enabled = true
drag_margin_v_enabled = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="Player"]
shape = SubResource( 1 )

[node name="Sprite" type="Sprite" parent="Player"]
scale = Vector2( 2, 2 )
texture = ExtResource( 2 )

[node name="BoostCooldownProgessBar" type="TextureProgress" parent="Player"]
margin_left = -51.0737
margin_top = -62.6042
margin_right = -1.07373
margin_bottom = -52.6042
rect_scale = Vector2( 2, 2 )
max_value = 1.0
step = 0.01
value = 1.0
texture_progress = ExtResource( 6 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="BoostCooldownTimer" type="Timer" parent="Player"]
one_shot = true

[node name="HealthBar" type="TextureProgress" parent="Player"]
margin_left = -52.6017
margin_top = 36.5377
margin_right = -2.60174
margin_bottom = 46.5377
rect_scale = Vector2( 2, 2 )
max_value = 100000.0
value = 100000.0
texture_progress = ExtResource( 7 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Enemy" parent="." instance=ExtResource( 5 )]
position = Vector2( 615.084, 512.792 )
collision_mask = 4

[node name="Border" type="StaticBody2D" parent="."]
scale = Vector2( 2, 2 )
collision_layer = 4
collision_mask = 0

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Border"]
build_mode = 1
polygon = PoolVector2Array( 288.705, 105.32, 162.989, 159.198, 57.4774, 257.975, 52.9875, 372.466, 68.702, 547.57, 122.58, 702.47, 142.784, 834.92, 237.071, 906.758, 434.625, 965.126, 587.279, 974.106, 796.057, 987.575, 944.222, 998.8, 1056.47, 992.065, 881.106, 1520.43, 144.884, 1471.35, -118.329, 1111.06, -152.232, 776.267, -220.037, 566.494, -179.778, 104.568, 78.7311, -105.206, 549.133, -225.985, 794.928, -168.774, 873.396, -243.378, 902.947, 33.54, 634.423, 49.197, 551.361, 67.1564, 414.42, 103.075 )
one_way_collision_margin = 10.0

[node name="CollisionPolygon2D2" type="CollisionPolygon2D" parent="Border"]
build_mode = 1
polygon = PoolVector2Array( 902.993, 32.5243, 1006.82, 26.1675, 1121.24, 41, 1383.99, 55.8325, 1572.57, 108.806, 1703.95, 159.66, 1839.56, 299.509, 1915.84, 411.812, 1903.13, 596.159, 1824.73, 803.813, 1687, 903.403, 1436.96, 973.327, 1265.33, 1002.99, 1057.94, 992.375, 890.476, 1514.66, 1390.92, 1505.57, 2069.02, 1289.33, 2442.25, 811.541, 2410.74, 533.811, 2389.9, 158.578, 2102.55, 12.6583, 1873.57, -128.772, 1662.55, -337.55, 1238.26, -402.653, 1011.52, -330.815, 876.825, -245.508 )
one_way_collision_margin = 10.0

[node name="EnemySpawnPath" type="Path2D" parent="."]
curve = SubResource( 2 )
script = ExtResource( 4 )

[node name="EnemySpawnTimer" type="Timer" parent="EnemySpawnPath"]
wait_time = 4096.0
autostart = true

[node name="HUD" type="CanvasLayer" parent="."]

[node name="ScoreLabel" type="Label" parent="HUD"]
margin_left = 50.0
margin_top = 50.0
custom_fonts/font = SubResource( 3 )
custom_colors/font_color = Color( 1, 0.0823529, 0, 1 )
text = "0

"
script = ExtResource( 8 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Cyborg" parent="." instance=ExtResource( 10 )]
position = Vector2( 1654.99, 496.229 )

[node name="BooPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource( 11 )
bus = "SFX"
script = ExtResource( 13 )
pitchVariation = 0.5

[node name="WowPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource( 12 )
bus = "SFX"
script = ExtResource( 13 )
pitchVariation = 0.5
[connection signal="playerDied" from="Player" to="EnemySpawnPath" method="_on_Player_playerDied"]
[connection signal="enemyDidNotDie" from="Enemy" to="BooPlayer" method="playSfx"]
[connection signal="enemyDied" from="Enemy" to="WowPlayer" method="playSfx"]
[connection signal="timeout" from="EnemySpawnPath/EnemySpawnTimer" to="EnemySpawnPath" method="_on_EnemySpawnTimer_timeout"]
